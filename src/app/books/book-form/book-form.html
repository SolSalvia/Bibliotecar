
<form [formGroup]="form" (ngSubmit)="handleSubmit()">
    <h2>{{ isEditing() ? 'Editando Libro' : 'Agregar Libro' }}</h2>
    <div class="form-field">
        <label for="ISBN">ISBN</label>
        <input type="text" id="ISBN" formControlName="ISBN" placeholder="978...">
        @if (ISBN.hasError('required') && ISBN.dirty) {
            <span class="errors">El ISBN es requerido</span>
        }
    </div>

    <div class="form-field">
        <label for="title">Título</label>
        <input type="text" id="title" formControlName="title" placeholder="Sherlock Holmes">
        @if (title.hasError('required') && title.dirty) {
            <span class="errors">El título es requerido</span>
        }
    </div>

    <div class="form-field">
        <label for="author">Autor</label>
        <input type="text" id="author" formControlName="author" placeholder="Arthur Conan Doyle">
        @if (author.hasError('required') && author.dirty) {
            <span class="errors">El autor es requerido</span>
        }
    </div>

    <div class="form-field">
        <label for="category">Categoría</label>
        <select id="category" formControlName="category">
            <option value="" selected disabled>Seleccione una categoría</option>
            @for (category of categories; track $index) {
                <option [value]="category">{{ category }}</option>
            }
        </select>
    </div>

    <div class="form-field">
        <label for="publicationYear">Año de publicación</label>
        <input type="number" id="publicationYear" formControlName="publicationYear" min="0" placeholder="2021">
        @if (publicationYear.dirty) {
            @if (publicationYear.hasError('required')) {
                <span>El año de publicación es requerido</span>
            } @else if (publicationYear.hasError('min')) {
                <span>El año de publicación debe ser mayor o igual a 0</span>
            }
        }
    </div>

    <div class="form-field">
        <label for="synopsis">Sinopsis</label>
        <textarea id="synopsis" formControlName="synopsis" rows="4"></textarea>
    </div>

    <div class="form-field">
        <label for="available">Disponible en biblioteca</label>
        <input type="checkbox" id="available" formControlName="available">
    </div>

    <div class="form-actions">
        <button type="reset">Limpiar formulario</button>
        <button type="submit" [disabled]="form.invalid">Enviar</button>
    </div>

<!-- VOLVER AL MENU PRINCIPAL! -->
   <div class="return">
        <button type="button" class="btn btn-primary" (click)="goToMenu()">
         Volver al menú principal
        </button>
   </div>

</form>